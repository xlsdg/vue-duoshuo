{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///js/app.js","webpack:///webpack/bootstrap fa553c506ade483190fc","webpack:///./src/index.js","webpack:///DuoShuo.vue","webpack:///./src/DuoShuo.vue","webpack:///./src/DuoShuo.vue?f551"],"names":["root","factory","exports","module","define","amd","duoshuo","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_DuoShuo","_DuoShuo2","name","props","domain","type","String","required","thread","url","window","location","href","title","document","author","data","dom","computed","watch","methods","init","that","duoshuoQuery","short_name","DUOSHUO","ready","ds","createElement","async","charset","readyState","onreadystatechange","onload","src","protocol","Date","getTime","s","getElementsByTagName","parentNode","insertBefore","isInjected","$nextTick","EmbedThread","$emit","$el","destroy","beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","activated","deactivated","beforeDestroy","destroyed","__vue_exports__","__vue_options__","__vue_template__","options","render","staticRenderFns","_scopeId","_vm","_h","$createElement","_self","_c","staticClass","attrs","data-thread-key","data-title","data-url","data-author-key"],"mappings":"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","file":"js/app.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"duoshuo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"duoshuo\"] = factory();\n\telse\n\t\troot[\"duoshuo\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"duoshuo\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"duoshuo\"] = factory();\n\telse\n\t\troot[\"duoshuo\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _DuoShuo = __webpack_require__(3);\n\t\n\tvar _DuoShuo2 = _interopRequireDefault(_DuoShuo);\n\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n\texports.default = _DuoShuo2.default;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  name: 'DuoShuo',\n\t  props: {\n\t    domain: {\n\t      type: String,\n\t      required: true\n\t    },\n\t    thread: {\n\t      type: String,\n\t      required: true\n\t    },\n\t    url: {\n\t      type: String,\n\t      required: false,\n\t      default: window.location.href\n\t    },\n\t    title: {\n\t      type: String,\n\t      required: false,\n\t      default: window.document.title\n\t    },\n\t    author: {\n\t      type: String,\n\t      required: false\n\t    }\n\t  },\n\t  data: function data() {\n\t    return {\n\t      dom: null\n\t    };\n\t  },\n\t\n\t  computed: {},\n\t  watch: {},\n\t  methods: {\n\t    init: function init() {\n\t      var that = this;\n\t\n\t      if (!window.duoshuoQuery || !window.duoshuoQuery.short_name) {\n\t        window.duoshuoQuery = {\n\t          short_name: that.domain\n\t        };\n\t      } else if (window.duoshuoQuery.short_name !== that.domain) {\n\t        window.duoshuoQuery.short_name = that.domain;\n\t      }\n\t\n\t      if (!window.DUOSHUO) {\n\t        (function () {\n\t          var ds = document.createElement('script');\n\t          ds.type = 'text/javascript';\n\t          ds.async = true;\n\t          ds.charset = 'utf-8';\n\t          if (ds.readyState) {\n\t            ds.onreadystatechange = function () {\n\t              if (ds.readyState === 'loaded' || ds.readyState === 'complete') {\n\t                ds.onreadystatechange = null;\n\t                that.ready(false);\n\t              }\n\t            };\n\t          } else {\n\t            ds.onload = function () {\n\t              ds.onload = null;\n\t              that.ready(false);\n\t            };\n\t          }\n\t          ds.src = document.location.protocol + '//static.duoshuo.com/embed.js?_t=' + new Date().getTime();\n\t          that.dom = ds;\n\t          var s = document.getElementsByTagName('script')[0];\n\t          s.parentNode.insertBefore(ds, s);\n\t        })();\n\t      } else {\n\t        that.ready(true);\n\t      }\n\t    },\n\t    ready: function ready(isInjected) {\n\t      var that = this;\n\t      that.$nextTick(function () {\n\t        if (window.DUOSHUO && window.DUOSHUO.EmbedThread) {\n\t          that.$emit('ready', null);\n\t          if (isInjected !== false) {\n\t            window.DUOSHUO.EmbedThread(that.$el);\n\t          }\n\t        }\n\t      });\n\t    },\n\t    destroy: function destroy() {\n\t      var that = this;\n\t\n\t      that.dom = null;\n\t    }\n\t  },\n\t  beforeCreate: function beforeCreate() {},\n\t  created: function created() {\n\t    var that = this;\n\t\n\t    that.init();\n\t  },\n\t  beforeMount: function beforeMount() {},\n\t  mounted: function mounted() {},\n\t  beforeUpdate: function beforeUpdate() {},\n\t  updated: function updated() {\n\t    var that = this;\n\t\n\t    that.ready(true);\n\t  },\n\t  activated: function activated() {},\n\t  deactivated: function deactivated() {},\n\t  beforeDestroy: function beforeDestroy() {\n\t    var that = this;\n\t\n\t    that.destroy();\n\t  },\n\t  destroyed: function destroyed() {}\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\tvar __vue_styles__ = {}\n\t\n\t/* styles */\n\t__webpack_require__(2)\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(1)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(4)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t__vue_options__._scopeId = \"data-v-4c14b525\"\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n\t  return _c('div', {\n\t    staticClass: \"ds-thread\",\n\t    attrs: {\n\t      \"data-thread-key\": _vm.thread,\n\t      \"data-title\": _vm.title,\n\t      \"data-url\": _vm.url,\n\t      \"data-author-key\": _vm.author\n\t    }\n\t  })\n\t},staticRenderFns: []}\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// js/app.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fa553c506ade483190fc","import DuoShuo from './DuoShuo.vue';\n\nexport default DuoShuo;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","<template>\n  <div class=\"ds-thread\"\n    :data-thread-key=\"thread\"\n    :data-title=\"title\"\n    :data-url=\"url\"\n    :data-author-key=\"author\"\n  ></div>\n</template>\n\n<style scoped>\n  .ds-thread {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n\n<script>\n  export default {\n    name: 'DuoShuo',\n    props: {\n      domain: {\n        type: String,\n        required: true\n      },\n      thread: {\n        type: String,\n        required: true\n      },\n      url: {\n        type: String,\n        required: false,\n        default: window.location.href\n      },\n      title: {\n        type: String,\n        required: false,\n        default: window.document.title\n      },\n      author: {\n        type: String,\n        required: false\n      }\n    },\n    data() {\n      return {\n        dom: null\n      };\n    },\n    computed: {\n    },\n    watch: {\n    },\n    methods: {\n      init() {\n        const that = this;\n\n        if (!window.duoshuoQuery || !window.duoshuoQuery.short_name) {\n          window.duoshuoQuery = {\n            short_name: that.domain\n          };\n        } else if (window.duoshuoQuery.short_name !== that.domain) {\n          window.duoshuoQuery.short_name = that.domain;\n        }\n\n        if (!window.DUOSHUO) {\n          const ds = document.createElement('script');\n          ds.type = 'text/javascript';\n          ds.async = true;\n          ds.charset = 'utf-8';\n          if (ds.readyState) {\n            ds.onreadystatechange = function() {\n              if (ds.readyState === 'loaded' || ds.readyState === 'complete') {\n                ds.onreadystatechange = null;\n                that.ready(false);\n              }\n            };\n          } else {\n            ds.onload = function() {\n              ds.onload = null;\n              that.ready(false);\n            };\n          }\n          ds.src = `${document.location.protocol}//static.duoshuo.com/embed.js?_t=${(new Date()).getTime()}`;\n          that.dom = ds;\n          const s = document.getElementsByTagName('script')[0];\n          s.parentNode.insertBefore(ds, s);\n        } else {\n          that.ready(true);\n        }\n      },\n      ready(isInjected) {\n        const that = this;\n        that.$nextTick(function() {\n          if (window.DUOSHUO && window.DUOSHUO.EmbedThread) {\n            that.$emit('ready', null);\n            if (isInjected !== false) {\n              window.DUOSHUO.EmbedThread(that.$el);\n            }\n          }\n        });\n      },\n      destroy() {\n        const that = this;\n        // that.dom.parentNode.removeChild(that.dom);\n        that.dom = null;\n      }\n    },\n    beforeCreate() {\n      // const that = this;\n      // console.log('beforeCreate');\n    },\n    created() {\n      const that = this;\n      // console.log('created');\n      that.init();\n    },\n    beforeMount() {\n      // const that = this;\n      // console.log('beforeMount');\n    },\n    mounted() {\n      // const that = this;\n      // console.log('mounted');\n      // that.ready(true);\n    },\n    beforeUpdate() {\n      // const that = this;\n      // console.log('beforeUpdate');\n    },\n    updated() {\n      const that = this;\n      // console.log('updated');\n      that.ready(true);\n    },\n    activated() {\n      // const that = this;\n      // console.log('activated');\n    },\n    deactivated() {\n      // const that = this;\n      // console.log('deactivated');\n    },\n    beforeDestroy() {\n      const that = this;\n      // console.log('beforeDestroy');\n      that.destroy();\n    },\n    destroyed() {\n      // const that = this;\n      // console.log('destroyed');\n    }\n  };\n</script>\n\n\n\n// WEBPACK FOOTER //\n// DuoShuo.vue?5720ef8d","var __vue_exports__, __vue_options__\nvar __vue_styles__ = {}\n\n/* styles */\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!vue-loader/lib/style-rewriter?id=data-v-4c14b525&scoped=true!vue-loader/lib/selector?type=styles&index=0!./DuoShuo.vue\")\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./DuoShuo.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-4c14b525!vue-loader/lib/selector?type=template&index=0!./DuoShuo.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n__vue_options__._scopeId = \"data-v-4c14b525\"\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/DuoShuo.vue\n// module id = 3\n// module chunks = 0","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"ds-thread\",\n    attrs: {\n      \"data-thread-key\": _vm.thread,\n      \"data-title\": _vm.title,\n      \"data-url\": _vm.url,\n      \"data-author-key\": _vm.author\n    }\n  })\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4c14b525!./~/vue-loader/lib/selector.js?type=template&index=0!./src/DuoShuo.vue\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}